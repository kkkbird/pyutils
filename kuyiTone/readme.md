# kuyiTone

## 使用方法

输入文件格式为yaml格式，见示例

### 播放

在PC侧播放简谱文件

```shell
kuyiTone play <filename>
```

### 生成

输出简谱数据，其中包括以下信息

* data: 输入文件信息
* raw_16bit: 16bit data数组，为实际播放，每两个一组，前为频率，后为时间（ms)
* raw_8bit: 8bit data数组（little-endian)，用于传输储存
* base64: raw_8bit的base64
* base64_qr: base64的qr

```shell
kuyiTone gen <filename>
```

## 示例

```yml
tone: C
bpm: 120
music: >-
    1 2 3
```

以上输入将输出C调,bpm为120的`do re mi`

play

``` shell
(261, 500)
(293, 500)
(326, 500)
```

gen

```shell
data:
{'tone': 'C', 'bpm': 120, 'music': '1 2 3'}
raw_16bit:
[0x105,0x1f4,0x125,0x1f4,0x146,0x1f4]
raw_8bit:
[0x5,0x1,0xf4,0x1,0x25,0x1,0xf4,0x1,0x46,0x1,0xf4,0x1]
base64:
b'BQH0ASUB9AFGAfQB'
                                 
                                 
    █▀▀▀▀▀█ ▀  ▀▄▀▀█  █▀▀▀▀▀█    
    █ ███ █ ▀█▀▀▀▀ ▄  █ ███ █    
    █ ▀▀▀ █ ▄█  ▄▄▄▀▀ █ ▀▀▀ █    
    ▀▀▀▀▀▀▀ ▀▄█▄▀▄▀▄▀ ▀▀▀▀▀▀▀    
    ▀ █▄▄▄▀█ ▄▄ ▀▀ ▀█  █  █ ▀    
    ▄█▄▄ ▄▀▀▄▄█▄▄▀█▀ █▀ █▀▀▄▀    
     ▄█▀█▀▀▀ ██▀ ██▀▄ ▀    █▀    
    ▀▀▀█▄▄▀█▀▀ ▀ ▄ ██ █▀ █▀ █    
    ▀▀    ▀ █ ▄▀█▀ ▀█▀▀▀█▀▀▀▀    
    █▀▀▀▀▀█ ▀▀ ▄█▀█▄█ ▀ █▄▀ ▀    
    █ ███ █  ██  ███▀█▀▀▀ ▀█▀    
    █ ▀▀▀ █ ▀▄▀▀ ▄ ▀▀█▀▄▀▄ ▀▀    
    ▀▀▀▀▀▀▀ ▀▀▀▀▀▀  ▀   ▀ ▀ ▀    
```

## 说明

### 音符标识

* 每个音符之间间隔一个空格
* '-' 延长一拍
* '_' 时值减半
* '`' 升高1个八度
* '.' 降低1个八度
* ':' 延音， 延音符号要放在最后
* '#' 升半音
* 'b' 降半音
